<!DOCTYPE html>
<html lang="pt">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="csrf-token" content="{{ csrf_token() }}" />
        <title>Apollo-km5</title>

        <!-- Bootstrap CSS -->
        <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css"
        />
        <link rel="stylesheet" href="assets/css/sidebar.css" />
        <link rel="stylesheet" href="assets/css/style.css" />
    </head>

    <body id="body-pd">
        <header class="header" id="header">
            <div class="header_toggle">
                <img
                    src="icons/menu.svg"
                    alt=""
                    class="bx bx-menu"
                    id="header-toggle"
                    style="cursor: pointer"
                />
            </div>
        </header>
        <div class="l-navbar bg-dark" id="nav-bar">
            <nav class="nav">
                <div>
                    <a href="#" class="nav_logo">
                        <span class="nav_logo-icon" id="logo_name">Km5</span>
                    </a>
                    <div class="nav_list">
                        <a
                            href="#"
                            class="nav_link active text-white"
                            aria-current="page"
                        >
                            <img
                                class="bi me-2"
                                src="icons/home.svg"
                                alt="logo"
                            />
                            <span class="nav-item"> Home </span>
                        </a>

                        <a href="#" class="nav_link text-white">
                            <img
                                class="bi me-2"
                                src="icons/dashboard.svg"
                                alt="logo"
                            />
                            <span class="nav_name"> Dashboard </span>
                        </a>

                        <a href="#" class="nav_link text-white">
                            <img
                                class="bi me-2"
                                src="icons/relatorio.svg"
                                alt="logo"
                            />
                            <span class="nav_name"> Relatórios </span>
                        </a>
                        <div class="dropdown-rigth">
                            <a
                                href="#"
                                class="d-flex align-items-center text-white text-decoration-none dropdown-toggle nav_link"
                                id="dropdownServ"
                                data-bs-toggle="dropdown"
                                aria-expanded="false"
                                aria-haspopup="true"
                            >
                                <img
                                    class="bi me-2"
                                    src="icons/servicos.svg"
                                    alt="logo"
                                />
                                <span class="nav_name"> Serviços </span>
                            </a>
                            <ul
                                href="#"
                                class="dropdown-menu dropdown-menu-dark text-small shadow"
                                aria-labelledby="dropdownServ"
                            >
                                <li>
                                    <a
                                        class="dropdown-item"
                                        href="#"
                                        onclick="cadastrarServ()"
                                        >Novo Serviço</a
                                    >
                                </li>
                                <li><hr class="dropdown-divider" /></li>
                                <li>
                                    <a
                                        class="dropdown-item"
                                        href="#"
                                        onclick="viewServ()"
                                    >
                                        Visualizar Serviços</a
                                    >
                                </li>
                            </ul>
                        </div>
                        <div class="dropdown-rigth">
                            <a
                                href="#"
                                class="d-flex align-items-center text-white text-decoration-none dropdown-toggle nav_link"
                                id="dropdownCli"
                                data-bs-toggle="dropdown"
                                aria-expanded="false"
                                aria-haspopup="true"
                            >
                                <img
                                    class="bi me-2"
                                    src="icons/clientes.svg"
                                    alt="logo"
                                />
                                <span class="nav_name"> Clientes </span>
                            </a>
                            <ul
                                href="#"
                                class="dropdown-menu dropdown-menu-dark text-small shadow"
                                aria-labelledby="dropdownCli"
                            >
                                <li>
                                    <a
                                        class="dropdown-item"
                                        href="#"
                                        onclick="cadastrarCli()"
                                    >
                                        Cadastrar cliente</a
                                    >
                                </li>
                                <li><hr class="dropdown-divider" /></li>
                                <li>
                                    <a
                                        class="dropdown-item"
                                        href="#"
                                        onclick="viewCli()"
                                    >
                                        Visualizar clientes</a
                                    >
                                </li>
                            </ul>
                        </div>
                        <div class="dropdown-rigth">
                            <a
                                href="#"
                                class="d-flex align-items-center text-white text-decoration-none dropdown-toggle nav_link"
                                id="dropdownFunc"
                                data-bs-toggle="dropdown"
                                aria-expanded="false"
                                aria-haspopup="true"
                            >
                                <img
                                    class="bi me-2"
                                    src="icons/clientes.svg"
                                    alt="logo"
                                />
                                <span class="nav_name"> Funcionários </span>
                            </a>
                            <ul
                                href="#"
                                class="dropdown-menu dropdown-menu-dark text-small shadow"
                                aria-labelledby="dropdownFunc"
                            >
                                <li>
                                    <a class="dropdown-item" href="#"
                                    onclick="cadastrarFunc()"
                                        >Cadastrar Funcionário</a
                                    >
                                </li>
                                <li><hr class="dropdown-divider" /></li>
                                <li>
                                    <a
                                        class="dropdown-item"
                                        href="#"
                                        onclick="viewFunc()"
                                    >
                                        Visualizar Funcionários</a
                                    >
                                </li>
                            </ul>
                        </div>

                        <a href="#" class="nav_link text-white">
                            <img
                                class="bi me-2"
                                src="icons/propostas.svg"
                                alt="logo"
                            />
                            <span class="nav_name"> Propostas </span>
                        </a>
                        <div class="dropdown-right">
                            <a
                                href="#"
                                class="nav_link text-white"
                                id="dropdownSair"
                                data-bs-toggle="dropdown"
                                aria-expanded="false"
                                aria-haspopup="true"
                            >
                                <img
                                    class="bi me-2"
                                    src="icons/sair.svg"
                                    alt="logo"
                                />
                                <span class="nav_name" style="color: red">
                                    Sair
                                </span>
                            </a>
                            <div
                                class="dropdown-menu dropdown-menu-dark text-small shadow p-3"
                                aria-labelledby="dropdownSair"
                            >
                                <p>Você deseja sair?</p>
                                <!--tratar logoff-->
                                <button
                                    class="btn btn-danger"
                                    onclick="location.href='login.html'"
                                >
                                    <span class="text-white">confirmar</span>
                                </button>
                            </div>
                            <div class="dropdown-rigth" id="apollo_drop">
                                <a
                                    href="#"
                                    class="d-flex align-items-center text-white text-decoration-none dropdown-toggle nav_link"
                                    id="dropdownUser1"
                                    data-bs-toggle="dropdown"
                                    aria-expanded="false"
                                    aria-haspopup="true"
                                >
                                    <img
                                        src="img/apollo color.png"
                                        alt=""
                                        width="24"
                                        height="24"
                                        class="rounded-circle me-2"
                                    />
                                    <strong>Apollo</strong>
                                </a>
                                <ul
                                    class="dropdown-menu dropdown-menu-dark text-small shadow"
                                    aria-labelledby="dropdownUser1"
                                >
                                    <li>
                                        <a class="dropdown-item" href="#"
                                            >Configurações</a
                                        >
                                    </li>
                                    <li>
                                        <a class="dropdown-item" href="#"
                                            >Contato</a
                                        >
                                    </li>
                                    <li><hr class="dropdown-divider" /></li>
                                    <!--tratar logoff-->
                                    <li>
                                        <a
                                            class="dropdown-item"
                                            href="login.html"
                                            onclick="sair()"
                                            >Sair</a
                                        >
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
        <!--Container Main start-->
        <div class="height-100">
            <div id="main-content" class="mt-4"></div>
        </div>

        <!-- jQuery (antes do Bootstrap) -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <!-- Bootstrap JS -->
        <script src="assets/js/bootstrap.bundle.min.js"></script>

        <script src="assets/js/sidebar.js"></script>
        <script src="assets/js/spa.js"></script>
        <!-- <script src="assets/js/app.js"></script> --->
    </body>
    <script>
        const token = document.head
            .querySelector('meta[name="csrf-token"]')
            .getAttribute("content");
        // window.onload = history.back()
        let main_content = document.querySelector("#main-content");

        function cadastrarCli() {
           // history.pushState({}, null, "/clientes");
            let cadastroCli = "componentes/cliente/cadastroCliente.html";
            let cadastroClijs = "assets/js/cliente/clientes.js";
            render(main_content, cadastroCli, cadastroClijs);
        }

        function cadastrarServ() {
            //history.pushState({}, null, "/servico");
            main_content.textContent = "";
            let servico = "componentes/servico/cadastroServico.html";
            let servicojs = "assets/js/servico/servico.js";
            render(main_content, servico, servicojs);
            
        }

        function viewServ(){
            let listaServico = "componentes/servico/listaServico.html";
            let tableservico = "assets/js/servico/servico.js";
            render(main_content, listaServico, tableservico);
        }

        function viewCli() {
           //history.pushState({}, null, "/clientes");
            let clientes = "componentes/cliente/clientes.html";
            let clientesjs = "assets/js/cliente/clientesTable.js";
            render(main_content, clientes, clientesjs);
        }

        //window.onload = viewFunc()
        function viewFunc() {
            let funcionarios = "componentes/funcionario/funcionarios.html";
            let funcionariosjs = "assets/js/funcionario/funcionarios.js";

            render(main_content, funcionarios, funcionariosjs);
        }

        function cadastrarFunc(){
            let cadastroFunc = "componentes/funcionario/cadastroFuncionario.html";
            let cadastroFuncjs = "assets/js/componentes.js";

            render(main_content, cadastroFunc, cadastroFuncjs);
        }

    </script>
</html>
